{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Peran\\\\LyricNinja\\\\Lyric_Ninja\\\\src\\\\components\\\\ProgressBar.tsx\";\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst ProgressBar = ({\n  onComplete,\n  currentWord\n}) => {\n  const [progress, setProgress] = useState(0);\n  const duration = 10;\n  const animationFrameHandle = useRef(0);\n  const prevTime = useRef(performance.now());\n  const outputValueRange = 1;\n\n  function ease(x) {\n    return x;\n  }\n\n  useEffect(() => {\n    function render(timestamp) {\n      setProgress(oldValue => {\n        if (oldValue >= 1) {\n          if (onComplete) onComplete();\n          return 0;\n        }\n\n        const secondsElapsed = (timestamp - prevTime.current) / 1000;\n        return oldValue + outputValueRange * secondsElapsed / duration;\n      });\n      prevTime.current = timestamp;\n      animationFrameHandle.current = requestAnimationFrame(render);\n    }\n\n    render(performance.now());\n    return () => cancelAnimationFrame(animationFrameHandle.current);\n  }, [onComplete, currentWord]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"word-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar\",\n    style: {\n      transform: `scaleX(${ease(progress)})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }));\n};\n\nexport default ProgressBar;","map":{"version":3,"sources":["C:/Users/Peran/LyricNinja/Lyric_Ninja/src/components/ProgressBar.tsx"],"names":["React","useState","useEffect","useRef","ProgressBar","onComplete","currentWord","progress","setProgress","duration","animationFrameHandle","prevTime","performance","now","outputValueRange","ease","x","render","timestamp","oldValue","secondsElapsed","current","requestAnimationFrame","cancelAnimationFrame","transform"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;;AASA,MAAMC,WAAuC,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAD,KAAiC;AAG7E,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAMQ,QAAQ,GAAG,EAAjB;AACA,QAAMC,oBAAoB,GAAGP,MAAM,CAAC,CAAD,CAAnC;AACA,QAAMQ,QAAQ,GAAGR,MAAM,CAACS,WAAW,CAACC,GAAZ,EAAD,CAAvB;AACA,QAAMC,gBAAgB,GAAG,CAAzB;;AAEA,WAASC,IAAT,CAAcC,CAAd,EAAiC;AAC/B,WAAOA,CAAP;AACD;;AAEDd,EAAAA,SAAS,CAAC,MAAM;AAEd,aAASe,MAAT,CAAgBC,SAAhB,EAAgD;AAC9CV,MAAAA,WAAW,CAACW,QAAQ,IAAI;AACtB,YAAIA,QAAQ,IAAI,CAAhB,EAAmB;AACjB,cAAId,UAAJ,EAAgBA,UAAU;AAC1B,iBAAO,CAAP;AACD;;AACD,cAAMe,cAAc,GAAG,CAACF,SAAS,GAAGP,QAAQ,CAACU,OAAtB,IAAiC,IAAxD;AACA,eAAOF,QAAQ,GAAGL,gBAAgB,GAAGM,cAAnB,GAAoCX,QAAtD;AACD,OAPU,CAAX;AAQAE,MAAAA,QAAQ,CAACU,OAAT,GAAmBH,SAAnB;AACAR,MAAAA,oBAAoB,CAACW,OAArB,GAA+BC,qBAAqB,CAACL,MAAD,CAApD;AAED;;AAEDA,IAAAA,MAAM,CAACL,WAAW,CAACC,GAAZ,EAAD,CAAN;AACA,WAAO,MAAMU,oBAAoB,CAACb,oBAAoB,CAACW,OAAtB,CAAjC;AACD,GAlBQ,EAkBN,CAAChB,UAAD,EAAaC,WAAb,CAlBM,CAAT;AAqBA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,KAAK,EAAE;AAAEkB,MAAAA,SAAS,EAAG,UAAST,IAAI,CAACR,QAAD,CAAW;AAAtC,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADJ;AAKD,CAvCH;;AAyCA,eAAeH,WAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\n\r\ninterface ProgressBarProps {\r\n  onComplete: any;\r\n  currentWord: string;\r\n}\r\n\r\n\r\nconst ProgressBar: React.FC<ProgressBarProps> = ({ onComplete, currentWord }) => {\r\n\r\n\r\n    const [progress, setProgress] = useState(0);\r\n    const duration = 10;\r\n    const animationFrameHandle = useRef(0);\r\n    const prevTime = useRef(performance.now());\r\n    const outputValueRange = 1;\r\n\r\n    function ease(x: number): number {\r\n      return x;\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n      function render(timestamp: DOMHighResTimeStamp) {\r\n        setProgress(oldValue => {\r\n          if (oldValue >= 1) {\r\n            if (onComplete) onComplete();\r\n            return 0;\r\n          }\r\n          const secondsElapsed = (timestamp - prevTime.current) / 1000;\r\n          return oldValue + outputValueRange * secondsElapsed / duration;\r\n        })\r\n        prevTime.current = timestamp;\r\n        animationFrameHandle.current = requestAnimationFrame(render);\r\n\r\n      }\r\n\r\n      render(performance.now());\r\n      return () => cancelAnimationFrame(animationFrameHandle.current);\r\n    }, [onComplete, currentWord])\r\n\r\n\r\n    return (\r\n        <div className=\"word-bar\">\r\n          <div className=\"progress-bar\" style={{ transform: `scaleX(${ease(progress)})` }} />\r\n        </div>\r\n    );\r\n  };\r\n\r\nexport default ProgressBar;\r\n  "]},"metadata":{},"sourceType":"module"}